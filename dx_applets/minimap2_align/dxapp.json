{
   "name": "minimap2_align",
   "title": "Minimap2 align for Resequencing",
   "inputSpec": [
    {
       "name": "reads",
       "label": "Reads",
       "patterns": ["*.bam"],
       "class": "array:file",
       "optional": false
    },
    {
        "name": "reads_indices",
        "label": "Reads PacBio indices",
        "patterns": ["*.pbi"],
        "class": "array:file",
        "optional": true
     },
    {
        "name": "ref_genome",
        "label": "Reference genome",
        "patterns": [
          "*.fasta",
          "*.fasta.gz",
          "*.fa",
          "*.fa.gz"
       ],
       "class": "file",
       "optional": false
    },
    {
        "name": "ref_genome_mmi",
        "label": "Reference genome index",
        "patterns": [
          "*.mmi"
       ],
       "class": "file",
       "optional": true
    },
    {
       "name": "output_prefix",
       "label": "Output prefix",
       "default": "mapped_subreads",
       "class": "string",
       "optional": false
    }
 ],
   "outputSpec": [
      {
         "patterns": [
            "*.bam"
         ],
         "class": "array:file",
         "name": "bam_files",
         "label": "Mapped reads"
      },
      {
         "patterns": [
            "*.bai"
         ],
         "class": "array:file",
         "name": "bai_files",
         "label": "Mapped reads indices"
      },
      {
         "patterns": [
            "*.mmi"
         ],
         "class": "file",
         "optional": true,
         "name": "ref_genome_mmi",
         "label": "Reference genome index"
      }
   ],
   "runSpec": {
      "file": "src/minimap2_align.py",
      "release": "14.04",
      "interpreter": "python2.7",
      "distribution": "Ubuntu"
   },
    "regionalOptions": {
        "aws:us-east-1": {"systemRequirements": {"*": {"instanceType": "mem3_ssd1_x32"}},
                          "assetDepends": [{"id": {"$dnanexus_link": "record-FF1B3f80QX6Xb6Q4FqggbbBQ"}},
                                           {"id": {"$dnanexus_link": "record-FP3b9F80xG3jK4q5KVV5jjyx"}}]},
        "aws:eu-central-1": {"systemRequirements": {"*": {"instanceType": "mem3_ssd1_x32"}},
                             "assetDepends": [{"id": {"$dnanexus_link": "record-FJjYbfj4y39vk4032byzQbP1"}},
                                              {"id": {"$dnanexus_link": "record-FKZ0Z084GQGfk4KX0pvBfgB4"}}]},
        "azure:westeurope": {"systemRequirements": {"*": {"instanceType": "azure:mem4_ssd1_x32"}},
                             "assetDepends": [{"id": {"$dnanexus_link": "record-FGZg2Y0BPJq807K8J7fqP903"}},
                                              {"id": {"$dnanexus_link": "record-FKZ0f50BYb4J0BqP0q1ZQGz1"}}]},
        "azure:westus": {"systemRequirements": {"*": {"instanceType": "azure:mem4_ssd1_x32"}},
                         "assetDepends": [{"id": {"$dnanexus_link": "record-FGxqB1j98Pp17Z6XF9BGVKXK"}},
                                          {"id": {"$dnanexus_link": "record-FKYZ0kj9KPkx0BqP0q1Z2Bq9"}}]}
   },
   "summary": "minimap2_align",
   "version": "5.1.0",
   "dxapi": "1.0.0",
   "categories": ["Read Mapping"]
}
