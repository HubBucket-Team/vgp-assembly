{
   "name": "bam_to_fastx",
   "authorizedUsers": [],
   "title": "PacBio BAM to FASTX",
   "outputSpec": [
      {
         "patterns": [
            "*.fasta.gz",
            "*.fasta"
         ],
         "class": "array:file",
         "name": "output_fastas",
         "label": "FASTA files"
      },
      {
         "patterns": [
            "*.fastq.gz",
            "*.fastq"
         ],
         "class": "array:file",
         "name": "output_fastqs",
         "label": "FASTQ files"
      }
   ],
   "runSpec": {
      "file": "src/bam_to_fastx.py",
      "release": "14.04",
      "interpreter": "python2.7",
      "distribution": "Ubuntu"
   },
   "regionalOptions": {
        "aws:us-east-1": {
            "systemRequirements": {"*": {"instanceType": "mem1_ssd1_x4"}},
            "assetDepends": [
                                {
                                    "id": {"$dnanexus_link": "record-F80Pg000KG76572P7P35KKVp"}
                                }
                              ]
        },
        "aws:eu-central-1": {
            "systemRequirements": {"*": {"instanceType": "mem1_ssd1_x4"}},
            "assetDepends": [
                                {
                                    "id": {"$dnanexus_link": "record-F80xKYj4FGVB6x2Y53ZXxP12"}
                                }
                              ]
        },
        "azure:westus": {
            "systemRequirements": {"*": {"instanceType": "azure:mem3_ssd1_x4"}},
            "assetDepends": [
                                {
                                    "id": {"$dnanexus_link": "record-F8K93X89K5yJ8yv10GQQ2Pbf"}
                                }
                              ]
        }
   },
   "summary": "Converts PacBio BAM to FASTA and FASTQ files",
   "version": "5.0.1",
   "inputSpec": [
      {
         "patterns": [
            "*.bam"
         ],
         "class": "array:file",
         "optional": false,
         "name": "input_bams",
         "label": "BAM files"
      },
      {
         "default": false,
         "class": "boolean",
         "optional": false,
         "name": "barcoded",
         "label": "Barcoded?"
      },
      {
         "default": true,
         "class": "boolean",
         "optional": false,
         "name": "compressed_output",
         "label": "Compressed Output"
      },
      {
         "default": 10000,
         "class": "int",
         "optional": false,
         "name": "chunk_size",
         "label": "Size (in MB) of each conversion sub-job"
      },

    {
      "name": "min_read_length",
      "label": "Minimum Read Length",
      "class": "int",
      "optional": true,
      "default": 0,
      "grouping": "filtering options"
    },
    {
      "name": "added_filters",
      "label": "Added Filters",
      "class": "string",
      "optional": true,
      "default": "rq>=0.7",
      "grouping": "filtering options",
      "help": "Comma separated list of filters to apply"
    }
   ],
   "dxapi": "1.0.0",
   "categories": []
}
