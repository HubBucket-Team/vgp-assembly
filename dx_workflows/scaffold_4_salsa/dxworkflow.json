{
  "name": "scaffold_4_salsa",
  "title": "Scaffold 4 Salsa Scaffolding",
  "stages": [
    {
      "id": "bwa_fasta_index",
      "executable": "app-bwa_fasta_indexer/2.0.1"
    },
    {
      "id": "arima_mapping",
      "executable": "app-arima_mapping/0.0.1",
      "input": {
        "ref_genome": {
          "$dnanexus_link": {
            "outputField": "genomeindex_targz",
            "stage": "bwa_fasta_index"
          }
        }
      }
    },
    {
      "id": "salsa2",
      "executable": "app-salsa/2.2.0",
      "input": {
        "hic_alignments": [
          {
            "$dnanexus_link": {
              "outputField": "output_bam",
              "stage": "arima_mapping"
            }
          }
        ],
        "input_assembly": {
          "$dnanexus_link": {
            "inputField": "genome_fastagz",
            "stage": "bwa_fasta_index"
          }
        }
      }
    },
    {
      "id": "concat",
      "executable": "applet-FY6YVV00j3b63z067J8kqj6P",
      "name": "concat s3+c2+p2",
      "input": {
        "s3_fastagz": {
            "$dnanexus_link": {
            "outputField": "final_scaffold_fasta",
            "stage": "salsa2"
          
            }
          }
      }
    },
    {
      "id": "calculate_contig_scaffold_length",
      "name": "Calculate scaffold Length Distribution",
      "executable": "app-calculate_read_length_distribution/1.9.2",
      "input": {
        "input_files": [
          {
            "$dnanexus_link": {
              "outputField": "s4_fastagz",
              "stage": "concat"
            }
          }
        ]
      }
    }
  ]
}
